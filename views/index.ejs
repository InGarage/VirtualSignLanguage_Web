<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Unity WebGL Player | WebGL</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="shortcut icon" href="TemplateData/favicon.ico">
  <link rel="stylesheet" href="/TemplateData/style.css">
  <script src="TemplateData/UnityProgress.js"></script>
  <script src="Build/UnityLoader.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    var unityInstance = UnityLoader.instantiate("unityContainer", "Build/Virtual_Web_API_2.json", { onProgress: UnityProgress });
  </script>
</head>

<body>
  <div class="container-fluid">
    <div class="title">
      <h1 class="text-monospace">Virtual Sign Language Interpreter</h1>
    </div>
    
  <div class="container d-flex">
    <div class="container py-sm-0 py-2">
      <div class="webgl-content">
        <div id="unityContainer"></div>
      </div>
    </div>
    <div class="container">
      <form action="/sendText" method="POST">
        <div class="input-group">
          <input type="text" class="form-control" name="data" id="data" placeholder="Start time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="End time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="Type word here..."
            aria-label="Type word here..." aria-describedby="button-addon2" required>
          <div class="input-group-append">
            <svg width="2.5em" height="2.1em" viewBox="0 0 16 16" class="bi bi-plus-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
              <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg>
          </div>
        </div>

        <div class="input-group">
          <input type="text" class="form-control" name="data" id="data" placeholder="Start time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="End time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="Type word here..."
            aria-label="Type word here..." aria-describedby="button-addon2" required>
        </div>

        <div class="input-group">
          <input type="text" class="form-control" name="data" id="data" placeholder="Start time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="End time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="Type word here..."
            aria-label="Type word here..." aria-describedby="button-addon2" required>
        </div>
        
        <div class="input-group">
          <input type="text" class="form-control" name="data" id="data" placeholder="Start time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="End time..."
          aria-label="Type word here..." aria-describedby="button-addon2" required>
          <input type="text" class="form-control" name="data" id="data" placeholder="Type word here..."
            aria-label="Type word here..." aria-describedby="button-addon2" required>
        </div>
        
      </form>
    </div>
  </div>

  </div>
</body>
<script>
  $(document).ready(function () {
    // Listen to click event on the submit button
    $('#button-addon2').click(function (e) {
      e.preventDefault();
      var data = $("#data").val();
      dataJson = JSON.stringify(data);
      console.log("data = ",data);
      console.log("dataJson = ",dataJson);
      unityInstance.SendMessage('preparation','User_Input',data);
      
      // $.ajax("https://virtualsignlanguage.azurewebsites.net/api/getPose?sentence="+data,   // request url
      // {
      //   success: function (result, status, xhr) {// success callback function
      //     console.log(result)
      //     const stringData = JSON.stringify(result)
      //     console.log(JSON.stringify(stringData))
      //     unityInstance.SendMessage('preparation','ReceieveData',stringData);
      //   }
      // });
    });
  }); 
    </script>
</html>
